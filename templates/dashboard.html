{% extends "base.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<h1>ğŸ“Š Dashboard</h1>

<div class="alert alert-success">
    Welcome, <strong>{{ username }}</strong>! You are logged in.
</div>

<h2>ğŸ“ Create New Post</h2>
<form method="POST" action="/post" style="margin: 30px 0;">
    <div class="form-group">
        <label for="title">Title:</label>
        <input type="text" id="title" name="title" required>
    </div>
    
    <div class="form-group">
        <label for="content">Content:</label>
        <textarea id="content" name="content" required></textarea>
    </div>
    
    <button type="submit" class="btn btn-primary">Create Post</button>
</form>

<h2>ğŸ“° Recent Posts</h2>
<div style="margin: 20px 0;">
    {% for post in posts %}
    <div style="background: #f8f9fa; padding: 20px; margin: 15px 0; border-radius: 5px; border-left: 4px solid #667eea;">
        <h3>{{ post[1]|safe }}</h3>
        <p>{{ post[2]|safe }}</p>
        <small style="color: #666;">Posted by {{ post[3] }} on {{ post[4] }}</small>
    </div>
    {% endfor %}
</div>

<div class="alert alert-warning" style="margin-top: 30px;">
    <strong>âš ï¸ Note:</strong> Post content is rendered without sanitization (XSS vulnerability),
    but the WAF prevents malicious scripts from being submitted.
</div>

{% endblock %}
